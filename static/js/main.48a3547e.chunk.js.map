{"version":3,"sources":["routes/Zune/Zune.tsx","routes/Zune/components/Home/index.ts","routes/Zune/components/Home/Home.tsx","routes/Zune/index.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["player","Home","_this","this","react_default","a","createElement","style","marginTop","lineHeight","className","props","options","map","el","key","id","fontSize","length","textOverflow","selected","label","Component","Zune","state","token","deviceId","menu","library","setupPlayer","window","onSpotifyWebPlaybackSDKReady","Spotify","Player","name","getOAuthToken","cb","addListener","_ref","message","console","error","_ref2","_ref3","_ref4","log","_ref5","device_id","setState","initPlay","_ref6","connect","authUrl","scopes","encodeURIComponent","_callee2","response","currentlyPlaying","albumResponse","regenerator_default","wrap","_context2","prev","next","fetch","method","headers","Content-Type","Authorization","concat","sent","status","json","items","getAlbumTracks","track","album","body","JSON","stringify","uris","uri","setTimeout","Object","asyncToGenerator","mark","_callee","currState","_context","getCurrentState","paused","togglePlayer","stop","nextTrack","prevTrack","previousTrack","pausePlayback","pause","togglePlay","_callee3","album_id","albumTrack","_context3","Headers","abrupt","getLibrary","_callee4","songs","_context4","getPlaylists","_callee5","_context5","getPlaylistIcon","_callee6","playlist_id","_context6","location","hash","split","i","objectSpread","index","_this2","_this$state","loginScreen","width","height","display","flexDirection","justifyContent","alignItems","src","es_button","type","href","seletedOptions","components_Home","marginBottom","onClick","Math","max","min","App","BrowserRouter","Route","exact","path","component","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","src_App_0","document","getElementById","URL","process","origin","addEventListener","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.48a3547e.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport { Button } from 'antd';\n\nimport {Home} from './components';\nimport 'antd/dist/antd.css';\nimport './Zune.css'\nimport Column from 'antd/lib/table/Column';\n\nlet player:Spotify.SpotifyPlayer;\n\ntype State = {\n    token: string | null;\n    deviceId: string | null;\n    selected: number;\n    library: any[];\n    menu: number | null;\n}\n\nclass Zune extends Component<{location: any}, State> {\n    state = {\n        token: null,\n        deviceId: null,\n        selected: 1,\n        menu: null,\n        library: [],\n    }\n    async componentWillMount() {\n        //Check for code in url\n        await this.setState({token: this.props.location.hash ? this.props.location.hash.split('=')[1]:null})\n        console.log(this.props.location)\n        if(this.props.location.hash.split('=')[1]){\n            await this.setupPlayer(this.props.location.hash.split('=')[1]);\n            const library = await this.getLibrary()\n            this.setState({library: library.map((el:any, i:number) => {\n                return {...el, index: i, label: el.track.name}\n            })})\n        }\n    }\n\n    render() {\n        const {menu, selected} = this.state;\n        const loginScreen = (\n            <div style={{width: '100%', height: '100%', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center'}}>\n                <img height='200' src='./zune.svg' />\n                <Button style={{marginTop: '1rem'}} type='primary' href={this.authUrl()} >Login</Button>\n            </div>\n        ) \n\n        const options = [\n            {\n                label: 'music',\n                id: 1,\n                options: this.state.library\n            },\n            {\n                label: 'playlists',\n                id: 2\n            }\n        ]\n\n        const seletedOptions = () => {\n            if (menu === 1){\n                return options[0].options\n            }\n            return options\n        }\n        return (\n            <div className='background'>\n                <div className=\"Zune\">\n                    <div className='border'>\n                        <div className='screen'>\n                            {!this.state.token && loginScreen}\n                            {this.state.token && <Home options={seletedOptions()!} selected={this.state.selected}/>}\n\n                        </div>\n                    </div>\n                    <div style={{marginBottom: '1rem'}} className='controls'>\n                        <button type='button' onClick={()=>{this.setState({menu: null, selected: 1})}} className='control back'><i className=\"fas fa-arrow-left\"></i></button>\n                        <div style={{flexDirection: 'column'}} className='control wheel'>\n                            <button type='button' onClick={()=>{this.setState({selected: Math.max(this.state.selected-1, 1)})}} className='directonal'>.</button>\n                            <div style={{width: '100%', display: 'flex', flexDirection: 'row', justifyContent: 'space-evenly'}}>\n                                <button type='button' onClick={()=>{this.prevTrack(player)}} className='directonal'>.</button>\n                                <button style={{}} type='button' onClick={()=>{this.setState({menu: selected});console.log(`Selected option ${selected} with value ${options[selected-1].label}, ${options[selected-1].options}`)}} className='directonal'>.</button>\n                                <button type='button' onClick={()=>{this.nextTrack(player)}} className='directonal'>.</button>\n                            </div>\n                            <button type='button' onClick={()=>{this.setState({selected: Math.min(this.state.selected+1, seletedOptions()!.length)})}} className='directonal'>.</button>\n                        </div>\n                        <button type='button' onClick={()=>{this.togglePlayer(player)}} className='control toggle'><i className=\"fas fa-play\"></i></button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n    private setupPlayer = (token:string):Spotify.SpotifyPlayer => { \n      window.onSpotifyWebPlaybackSDKReady = () => {\n              player = new Spotify.Player({\n              name: 'Get in the Zune',\n              getOAuthToken: cb => { cb(token); }\n          });\n  \n          // Error handling\n          player.addListener('initialization_error', ({ message }) => { console.error(message); });\n          player.addListener('authentication_error', ({ message }) => { console.error(message); });\n          player.addListener('account_error', ({ message }) => { console.error(message); });\n          player.addListener('playback_error', ({ message }) => { console.error(message); });\n  \n          // Playback status updates\n          player.addListener('player_state_changed', state => { console.log(state); });\n  \n          // Ready\n          player.addListener('ready', ({ device_id }) => {\n            this.setState({deviceId: device_id})\n            console.log('Ready with Device ID', device_id);\n            this.initPlay()\n          });\n  \n          // Not Ready\n          player.addListener('not_ready', ({ device_id }) => {\n          console.log('Device ID has gone offline', device_id);\n          });\n  \n          // Connect to the player!\n          player.connect(); \n      };\n      return player;\n    }\n\n    private authUrl = () => {\n        //Logic that builds the url and returns it\n      const my_client_id = 'fae22fc460a642acab61b10f6cc1cb77';\n      const redirect_uri = 'http://localhost:3000/';\n      var scopes = 'streaming user-read-birthdate user-read-email user-read-private user-read-currently-playing user-read-playback-state user-read-recently-played user-modify-playback-state playlist-read-private user-library-read';\n      const url = 'https://accounts.spotify.com/authorize' +\n      '?response_type=token' +\n      '&client_id=' + my_client_id +\n      (scopes ? '&scope=' + encodeURIComponent(scopes) : '') +\n      '&redirect_uri=' + encodeURIComponent(redirect_uri);\n      return url\n    }\n\n    public initPlay = async () => {\n        const response = await fetch(`https://api.spotify.com/v1/me/player/recently-played`, {\n            method: 'GET',\n            headers: {\n               'Content-Type': 'application/json',\n                'Authorization': `Bearer ${this.state.token}`\n            },\n        })\n        if(response.status === 200){\n            const currentlyPlaying = await response.json();\n            console.log(currentlyPlaying.items[0])\n            const albumResponse = await this.getAlbumTracks(currentlyPlaying.items[0].track.album.id);\n            await fetch(`https://api.spotify.com/v1/me/player/play?device_id=${this.state.deviceId}`, {\n                method: 'PUT',\n                body: JSON.stringify({ uris: albumResponse.map((el:any) => el.uri) }),\n                headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${this.state.token!}`\n                },\n            })\n            await setTimeout( async () => { const currState = await player.getCurrentState()\n              if (currState)\n                !currState.paused ? this.togglePlayer(player) : null;\n            },520);\n        } else {\n            console.log('aslkdlaksjdfhlkajshdflkajshdfl')\n        }\n    }\n\n    private nextTrack = (player: Spotify.SpotifyPlayer) => { \n        player.nextTrack();\n        console.log('Skipped to next track!');\n    }\n      \n    private prevTrack = (player: Spotify.SpotifyPlayer) => { \n        player.previousTrack();\n        console.log('Set to previous track!');\n    }\n\n    private pausePlayback = (player: Spotify.SpotifyPlayer) => { \n      player.pause();\n      console.log('Pausing track');\n    }\n      \n    private togglePlayer = (player: Spotify.SpotifyPlayer) => {\n        player.togglePlay();\n        // const state = await player.getCurrentState(); //force this request to complete\n        // console.log(state ? state.paused : null);\n    } \n\n    private getAlbumTracks = async (album_id: String) => {\n      const response = await fetch(`https://api.spotify.com/v1/albums/${album_id}/tracks`, { \n        method: 'GET', \n        headers: new Headers({\n          'Authorization': `Bearer ${this.state.token!}`\n        })\n      });\n      const albumTrack = await response.json();\n      console.log(\"TRACKS\")\n      console.log(albumTrack.items)\n      return albumTrack.items;\n    }\n\n    private getLibrary = async () => {\n        const response = await fetch('https://api.spotify.com/v1/me/tracks?offset=0&limit=50', { \n            method: 'GET', \n            headers: new Headers({\n                'Authorization': `Bearer ${this.state.token!}`\n            })\n        });\n        const songs = await response.json()\n        console.log(songs.items)\n        return songs.items;\n    }\n\n    private getPlaylists = async () => {\n      const response = await fetch('https://api.spotify.com/v1/me/playlists', { \n        method: 'GET', \n        headers: new Headers({\n          'Authorization': `Bearer ${this.state.token!}`\n        })\n      });\n      return await response;\n    }\n\n    private getPlaylistIcon = async (playlist_id: string) => {\n      const response = await fetch(`https://api.spotify.com/v1/me/playlists${playlist_id}/images`, { \n        method: 'GET', \n        headers: new Headers({\n          'Authorization': `Bearer ${this.state.token!}`\n        })\n      });\n      return await response;\n    }\n    // private loginButton = () => {\n    //   const my_client_id = 'fae22fc460a642acab61b10f6cc1cb77';\n    //   const redirect_uri = 'http://localhost:3000/';\n    //   var scopes = 'streaming user-read-birthdate user-read-email user-read-private';\n    //   const url = 'https://accounts.spotify.com/authorize' +\n    //   '?response_type=token' +\n    //   '&client_id=' + my_client_id +\n    //   (scopes ? '&scope=' + encodeURIComponent(scopes) : '') +\n    //   '&redirect_uri=' + encodeURIComponent(redirect_uri);\n    //   console.log('asd')\n    //   return (\n    //     <a type='button' href={url}>\n    //       LOGIN\n    //     </a>\n    //   )\n    // }\n}\n\nexport default Zune;\n","import Home from './Home';\n\nexport default Home;\n","import React, { Component } from 'react';\n\ntype Props = {\n    selected: number,\n    options: any[]\n}\n\nclass Home extends Component<Props> {\n    render() {\n        return (\n            <div style={{marginTop: '1rem', lineHeight: \"0.5rem\"}} className='menu'>\n                {this.props.options.map(el => {\n                    return (\n                        <p key={el.id} style={{fontSize: (this.props.options.length > 5) ? '1rem' : '2rem', textOverflow: 'hidden'}}>{el.id == this.props.selected ? <b>{el.label}</b>: el.label}</p>\n                    )\n                })}\n            </div>\n        );\n    }\n}\n\nexport default Home;\n","import Zune from './Zune';\n\nexport default Zune;\n","import React, { Component } from 'react';\n\nimport {\n  BrowserRouter as Router,\n  Route,\n} from \"react-router-dom\"; \n\nimport {Zune} from './routes'\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <Route exact path='/' component={Zune} />\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}